@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    Layout = "_Empty";
}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
<div>


    <div class="container w-75">
        <div style="margin-top:15%;" class=" ml-3 pl-3">
            <h4>
                To provide best medical service, we cannot determine the cost right away. If you agree to our service, so we will provide care and follow-up until all care is completed. So with this points, if you like us to provide care to you click on "Agree" and we'll get started immediately, if you do not agree simply click "Cancle".
            </h4>
        </div>
        <div class="d-inline-flex justify-content-center w-100 mt-5">
            <div class="w-50">
                <button id="Agreebtn" onclick="IAgree()" class="btn btn-success bg-lg">I Agree</button>

            </div>
            <div>
                <button class="btn btn-danger bg-lg " data-toggle="modal" data-target="#exampleModalCenter">Cancel</button>

            </div>
        </div>

    </div>


    <!-- Modal -->
    <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div style="background-color:#0dcaf0; color:white;" class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">Cancel Confirmation</h5>
                    <button type="button" class="close btn btn-lg text-white" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <form class="cancelAgreement">
                <div class="modal-body">
                    <p>Test Test,</p>                  
                    <div class="form-floating">
                        <textarea class="form-control"
                                  placeholder="Leave a comment here"
                                  id="floatingTextarea"
                                  name="cancelnote"
                                  style="height: 100px"
                                  rows="5"></textarea>
                        <label for="floatingTextarea">Please provide a brief explanation for your cancelation</label>
                    </div>
                  
                </div>
                <div class="modal-footer border-0">
                        <button type="button" id="cancelsubmit" class="btn btn-info text-white ">Confirm</button>
                    <button  type="button" class="btn btn-outline-info" data-dismiss="modal">Cancel</button>
                </div>
                </form>
            </div>
        </div>
    </div>



</div>
<script>
    console.log("agree");
    function IAgree() {
        $.ajax({
            method: "POST",
            url: '@Url.Action("Agree", "Patient")',
            success: function (result) {
                console.log("I agree");
            }

        });
    }
   
    $('#cancelsubmit').on('click', function () {

        $.ajax({
            method: "POST",
            url: '@Url.Action("CancelAgreement", "Patient")',
            data: $('form.cancelAgreement').serialize(),
            success: function (result) {
                // console.log("assign case success");
                console.log("cancel agreement success");
            }

        });
    });

</script>


